<!DOCTYPE html>
<html data-bs-theme="light" lang="id">

<head>
    <meta charset="utf-8">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>WalletKu - Mulai atur keuangan mu</title>
    <link rel="canonical" href="https://walletku.biz.id/data/admin/dashboard.html">
    <meta property="og:url" content="https://walletku.biz.id/data/admin/dashboard.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="Mulai mengelola pemasukan dan pengeluaran-mu dengan mudah.">
    <meta name="twitter:title" content="WalletKu - Mulai atur keuangan mu | beta test">
    <meta name="twitter:image" content="https://walletku.biz.id/assets/img/SEO/og1@2x.webp">
    <meta name="description" content="Mulai mengelola pemasukan dan pengeluaran-mu dengan mudah. dengan fitur backup export dan import">
    <meta property="og:image" content="https://walletku.biz.id/assets/img/SEO/og1@2x.webp">
    <link rel="icon" type="image/png" sizes="484x484" href="../../assets/img/SEO/icon-wallet.webp">
    <link rel="icon" type="image/png" sizes="484x484" href="../../assets/img/SEO/icon-wallet.webp" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" sizes="484x484" href="../../assets/img/SEO/icon-wallet.webp">
    <link rel="icon" type="image/png" sizes="484x484" href="../../assets/img/SEO/icon-wallet.webp" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" sizes="484x484" href="../../assets/img/SEO/icon-wallet.webp">
    <link rel="icon" type="image/png" sizes="484x484" href="../../assets/img/SEO/icon-wallet.webp">
    <link rel="icon" type="image/png" sizes="484x484" href="../../assets/img/SEO/icon-wallet.webp">
    <link rel="stylesheet" href="../../assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="../../assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="../../assets/css/dashboard-app/style.css">
    <link rel="stylesheet" href="../../assets/css/dashboard-app/Pricing-Duo-badges.css">
    <link rel="stylesheet" href="../../assets/css/dashboard-app/Pricing-Duo-icons.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/css/admin-app/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>

<body>
    <div id="wrapper" style="padding-top: 86px;">
        <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <nav class="navbar navbar-expand fixed-top d-flex topbar" style="background: rgba(255,255,255,0.49);backdrop-filter: opacity(1) blur(6px);-webkit-backdrop-filter: opacity(1) blur(6px);margin-bottom: 0px;margin-top: 5px;margin-right: 5px;margin-left: 5px;border-radius: 16px;box-shadow: 0px 3px 20px rgba(177,177,177,0.84);border: 3px solid rgba(255,255,255,0.29);">
                    <div class="container"><span style="font-weight: bold;font-family: Nunito, sans-serif;color: rgb(0,0,0);">Dashboard</span>
                        <ul class="navbar-nav flex-nowrap ms-auto">
                            <li class="nav-item dropdown no-arrow mx-1">
                                <div class="nav-item dropdown no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><span class="badge bg-danger badge-counter" style="transform: translateX(0px) translateY(-11px) translateZ(0px);">2</span><span class="badge bg-danger badge-counter premium2" style="transform: translateX(0px) translateY(-11px) translateZ(0px);">3</span><i class="fas fa-bell fa-fw" style="color: rgb(67,97,238);font-size: 21px;"></i></a>
                                    <div class="dropdown-menu dropdown-menu-end dropdown-list animated--grow-in" style="border-radius: 16px;box-shadow: 0px 4px 20px 3px rgba(0,0,0,0.16);">
                                        <h6 class="dropdown-header" style="font-family: Nunito, sans-serif;font-size: 16px;">Pemberitahuan</h6><a class="dropdown-item d-flex align-items-center" href="#">
                                            <div class="d-flex">
                                                <div><span class="small" style="color: rgb(88,88,94);">Bot</span>
                                                    <p style="color: rgb(67,68,74);">Laporkan keuangan mu dari pemasukan dan pengeluaran dengan mudah!</p>
                                                </div>
                                            </div>
                                        </a><a class="dropdown-item align-items-center premium2" href="#">
                                            <div class="d-flex">
                                                <div><span class="small" style="color: rgb(88,88,94);">Bot</span>
                                                    <p style="color: rgb(67,68,74);">Anda belum berlangganan. silahkan berlangganan untuk akses fitur premium</p>
                                                </div>
                                            </div>
                                        </a><a class="dropdown-item align-items-center" href="#">
                                            <div class="d-flex">
                                                <div><span class="small" style="color: rgb(88,88,94);">Bot</span>
                                                    <p style="color: rgb(67,68,74);">Apa yang baru? di Beta version <strong>1.9.0.1 </strong>anda dapat menyimpan dan mengirimkan dana antar dompet satu ke dompet lainnya. ini memerlukan akses premium jika ingin menggunakan fiitur tersebut.</p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <div class="d-none d-sm-block topbar-divider"></div>
                            <li class="nav-item dropdown no-arrow">
                                <div class="nav-item dropdown no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><span class="d-none d-lg-inline me-2" style="font-family: Nunito, sans-serif;color: rgb(0,0,0);font-weight: bold;"><span style="font-weight: normal !important;">Halo!&nbsp;</span><span class="d-none d-lg-inline username" style="font-family: Nunito, sans-serif;margin-right: 0px;">User</span></span><img class="border rounded-circle img-profile" src="../../assets/img/icon/image2.jpeg"></a>
                                    <div class="dropdown-menu shadow dropdown-menu-end animated--grow-in" style="border-radius: 16px;border: 2px solid rgb(225,225,230) ;"><a class="dropdown-item" href="#" style="padding-top: 8px;padding-bottom: 8px;color: rgb(40,40,40);font-family: Nunito, sans-serif;font-weight: bold;" data-bs-target="#profile-user" data-bs-toggle="modal"><i class="fas fa-user fa-sm fa-fw me-2" style="color: rgb(40,40,81);"></i>&nbsp;Profile</a>
                                        <div class="dropdown-divider"></div><a class="dropdown-item" style="padding-top: 8px;padding-bottom: 8px;color: rgb(40,40,40);font-family: Nunito, sans-serif;font-weight: bold;" onclick="localStorage.removeItem(&#39;userData&#39;)" href="index.html"><i class="fas fa-sign-out-alt fa-sm fa-fw me-2" style="color: rgb(40,40,81);"></i>&nbsp;Logout</a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
                <div class="container" style="margin-top: 0px;">
                    <div class="container" style="margin-top: 0px;">
                        <div class="dashboard-header" style="border-radius: 16px;">
                            <div class="row align-items-center" style="margin-right: 0px;margin-left: 0px;">
                                <div class="col-md-8 text-start" style="padding-right: 0px;padding-left: 0px;">
                                    <h2 style="font-family: Nunito, sans-serif;font-weight: bold;"><i class="fas fa-tachometer-alt mr-2"></i>&nbsp;Dashboard</h2>
                                    <p class="mb-0" style="font-family: Nunito, sans-serif;">Pengelola user WalletKu</p>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-4">
                                <div class="card" style="background: rgb(51,93,218);border-radius: 16px;">
                                    <div class="card-body">
                                        <div class="row align-items-center" style="margin-left: 1px;margin-right: 0px;">
                                            <div class="col" style="padding-left: 0px;padding-right: 0px;">
                                                <h6 class="card-title" style="color: var(--secondary-color);font-family: Nunito, sans-serif;">TOTAL USERS</h6>
                                                <h2 class="card-value" style="width: auto;margin-bottom: 0px;margin-top: 20px;"><span id="totalUser" style="color: var(--secondary-color);padding: 10px;background: #1443d0;border-radius: 16px;margin-top: 0px;padding-top: 5px;padding-bottom: 5px;padding-right: 20px;padding-left: 20px;">0</span></h2>
                                            </div>
                                            <div class="col-auto" style="padding-left: 0px;padding-right: 0px;"><i class="fas fa-users fa-2x" style="color: var(--secondary-color);padding: 10px;background: #1443d0;border-radius: 16px;"></i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card" style="background: rgb(51,93,218);border-radius: 16px;">
                                    <div class="card-body">
                                        <div class="row align-items-center" style="margin-left: 1px;margin-right: 0px;">
                                            <div class="col" style="padding-left: 0px;padding-right: 0px;">
                                                <h6 class="card-title" style="color: var(--secondary-color);font-family: Nunito, sans-serif;">PREMIUM USERS</h6>
                                                <h2 class="card-value" style="width: auto;margin-bottom: 0px;margin-top: 20px;"><span id="totalPremium" style="color: var(--secondary-color);padding: 10px;background: #1443d0;border-radius: 16px;margin-top: 0px;padding-top: 5px;padding-bottom: 5px;padding-right: 20px;padding-left: 20px;">0</span></h2>
                                            </div>
                                            <div class="col-auto" style="padding-left: 0px;padding-right: 0px;"><i class="fas fa-crown fa-2x" style="color: var(--secondary-color);padding: 10px;background: #1443d0;border-radius: 16px;"></i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card" style="background: rgb(51,93,218);border-radius: 16px;">
                                    <div class="card-body">
                                        <div class="row align-items-center" style="margin-left: 1px;margin-right: 0px;">
                                            <div class="col" style="padding-left: 0px;padding-right: 0px;">
                                                <h6 class="card-title" style="color: var(--secondary-color);font-family: Nunito, sans-serif;">STANDARD USERS</h6>
                                                <h2 class="card-value" style="width: auto;margin-bottom: 0px;margin-top: 20px;"><span id="totalStandart" style="color: var(--secondary-color);padding: 10px;background: #1443d0;border-radius: 16px;margin-top: 0px;padding-top: 5px;padding-bottom: 5px;padding-right: 20px;padding-left: 20px;">0</span></h2>
                                            </div>
                                            <div class="col-auto" style="padding-left: 0px;padding-right: 0px;"><i class="fas fa-user fa-2x" style="color: var(--secondary-color);padding: 10px;background: #1443d0;border-radius: 16px;"></i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="search-box"><i class="fas fa-search"></i><input type="text" id="searchInput" class="search-input form-control premium" placeholder="Cari email atau nama" style="font-family: Nunito, sans-serif;"></div>
                            </div>
                            <div class="col-md-6"><select id="filterStatus" class="filter-select form-control premium" style="font-family: Nunito, sans-serif;">
                                    <option value="all">All Status</option>
                                    <option value="premium">Premium Active</option>
                                    <option value="standart">Standard</option>
                                </select></div>
                        </div>
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive premium">
                                    <table class="table table-hover">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th style="font-family: Nunito, sans-serif;background: rgb(51,93,218);border-top-left-radius: 16px;">Name</th>
                                                <th style="font-family: Nunito, sans-serif;background: rgb(51,93,218);">Email</th>
                                                <th style="font-family: Nunito, sans-serif;background: rgb(51,93,218);">Expiry Date</th>
                                                <th style="font-family: Nunito, sans-serif;background: rgb(51,93,218);">Original Status</th>
                                                <th style="font-family: Nunito, sans-serif;background: rgb(51,93,218);">Effective Status</th>
                                                <th style="font-family: Nunito, sans-serif;background: rgb(51,93,218);border-top-right-radius: 16px;">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="userTable"></tbody>
                                    </table>
                                </div>
                                <div class="page-info" id="pageInfo"></div>
                                <nav aria-label="Page navigation">
                                    <ul class="pagination" id="pagination"></ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" role="dialog" tabindex="-1" id="updateModal" aria-labelledby="updateModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title"><i class="fas fa-user-edit mr-2"></i> Update User</h5><button aria-label="Close" class="close" data-dismiss="modal" type="button"><span aria-hidden="true">×</span></button>
                                </div>
                                <div class="modal-body">
                                    <form id="updateForm">
                                        <div class="form-group"><label for="modalEmail">Email</label><input class="form-control form-control" type="text" id="modalEmail" readonly="" style="height: auto;"></div>
                                        <div class="form-group"><label for="modalStatus">Status</label><select class="form-control" id="modalStatus" style="height: auto;">
                                                <option value="standart">Standard</option>
                                                <option value="premium">Premium</option>
                                            </select></div>
                                        <div class="form-group"><label for="modalDate">Renewal Date</label><input class="form-control form-control" id="modalDate" type="date" style="height: auto;"></div>
                                    </form>
                                </div>
                                <div class="modal-footer"><button class="btn btn-secondary" data-dismiss="modal" type="button">Close</button><button class="btn btn-primary" type="button" onclick="submitUpdate()"><i class="fas fa-save mr-1"></i> Save Changes </button></div>
                            </div>
                        </div>
                    </div><script src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><script>
    const scriptUrl = "https://script.google.com/macros/s/AKfycbxHFQRQDCGCsLPWH_Bm9soZd85OR1BROMOB4r4kEwk39Zb4QdE-IHLnAmv3qffVsBNM/exec";
    let allUsers = [];
    let currentEmail = "";
    let currentPage = 1;
    const rowsPerPage = 10;

    function getEffectiveStatus(user) {
      if(user.status === "premium") {
        const expiryDate = new Date(user.date);
        const today = new Date(new Date().toDateString());
        return expiryDate >= today ? "premium" : "standart";
      }
      return "standart";
    }

    function renderTable() {
      const searchText = document.getElementById("searchInput").value.toLowerCase();
      const filterValue = document.getElementById("filterStatus").value;
      const tableBody = document.getElementById("userTable");
      tableBody.innerHTML = "";

      let totalPremium = 0, totalStandart = 0;
      let filteredUsers = [];

      allUsers.forEach(user => {
        const effectiveStatus = getEffectiveStatus(user);
        
        if(user.nama.toLowerCase().includes(searchText) || user.email.toLowerCase().includes(searchText)) {
          if(filterValue === "all" || filterValue === effectiveStatus) {
            filteredUsers.push({...user, effectiveStatus});
            
            if(effectiveStatus === "premium"){
              totalPremium++;
            } else {
              totalStandart++;
            }
          }
        }
      });

      document.getElementById("totalUser").textContent = allUsers.length;
      document.getElementById("totalPremium").textContent = totalPremium;
      document.getElementById("totalStandart").textContent = totalStandart;

      const totalPages = Math.ceil(filteredUsers.length / rowsPerPage);
      renderPagination(totalPages);

      const startIndex = (currentPage - 1) * rowsPerPage;
      const endIndex = Math.min(startIndex + rowsPerPage, filteredUsers.length);

      for(let i = startIndex; i < endIndex; i++) {
        const user = filteredUsers[i];
        let row = document.createElement("tr");
        row.innerHTML = `
          <td>${user.nama}</td>
          <td>${user.email}</td>
          <td>${user.date}</td>
          <td><span class="badge ${user.status === 'premium' ? 'badge-premium' : 'badge-standart'}">${user.status}</span></td>
          <td><span class="badge ${user.effectiveStatus === 'premium' ? 'badge-premium' : 'badge-standart'}">${user.effectiveStatus}</span></td>
          <td>
            <button class="btn btn-update" onclick='openUpdateModal("${user.email}", "${user.status}", "${user.date}")'>
              <i class="fas fa-edit mr-1"></i> Update
            </button>
          </td>
        `;
        tableBody.appendChild(row);
      }
    }

    function renderPagination(totalPages) {
      const pagination = document.getElementById("pagination");
      const pageInfo = document.getElementById("pageInfo");
      pagination.innerHTML = "";
      
      if(totalPages <= 1) {
        pageInfo.innerHTML = "";
        return;
      }

      pageInfo.innerHTML = `Showing page ${currentPage} of ${totalPages}`;

      // Previous Button
      pagination.innerHTML += `
        <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
          <a class="page-link" href="#" onclick="changePage(${currentPage - 1})" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
      `;

      // Page Numbers
      const maxVisiblePages = 5;
      let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages/2));
      let endPage = startPage + maxVisiblePages - 1;
      
      if(endPage > totalPages) {
        endPage = totalPages;
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }

      for(let i = startPage; i <= endPage; i++) {
        pagination.innerHTML += `
          <li class="page-item ${i === currentPage ? 'active' : ''}">
            <a class="page-link" href="#" onclick="changePage(${i})">${i}</a>
          </li>
        `;
      }

      // Next Button
      pagination.innerHTML += `
        <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
          <a class="page-link" href="#" onclick="changePage(${currentPage + 1})" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      `;
    }

    function changePage(page) {
      currentPage = page;
      renderTable();
      window.scrollTo({top: 0, behavior: 'smooth'});
    }

    function fetchUserData() {
      fetch(scriptUrl + "?action=getAllUsers")
        .then(response => response.json())
        .then(data => {
          if(data.status === "success"){
            allUsers = data.users;
            currentPage = 1;
            renderTable();
          } else {
            Swal.fire({
              icon: 'error',
              title: 'Gagal!',
              text: 'Gagal memuat data pengguna',
              confirmButtonColor: '#4e73df'
            });
          }
        })
        .catch(err => console.error(err));
    }

    function openUpdateModal(email, status, date) {
      currentEmail = email;
      document.getElementById("modalEmail").value = email;
      document.getElementById("modalStatus").value = status;
      document.getElementById("modalDate").value = date.includes("T") ? date.split("T")[0] : date;
      $('#updateModal').modal('show');
    }

    function submitUpdate(){
      const newStatus = document.getElementById("modalStatus").value;
      const newDate = document.getElementById("modalDate").value;
      if(newStatus && newDate) {
        fetch(scriptUrl + "?action=adminUpdateUser&email=" + encodeURIComponent(currentEmail) + "&newStatus=" + encodeURIComponent(newStatus) + "&newDate=" + encodeURIComponent(newDate))
        .then(response => response.json())
        .then(data => {
          Swal.fire({
            icon: 'success',
            title: 'Berhasil!',
            text: data.message,
            confirmButtonColor: '#4e73df'
          }).then(() => {
            location.reload();
          });
        })
        .catch(err => {
          Swal.fire({
            icon: 'error',
            title: 'Gagal!',
            text: 'Terjadi kesalahan saat memperbarui data',
            confirmButtonColor: '#4e73df'
          });
        });
      }
    }

    // Initialize
    document.addEventListener("DOMContentLoaded", function(){
      fetchUserData();
      document.getElementById("searchInput").addEventListener("input", function() {
        currentPage = 1;
        renderTable();
      });
      document.getElementById("filterStatus").addEventListener("change", function() {
        currentPage = 1;
        renderTable();
      });
    });
  </script>
                    <div class="modal fade" role="dialog" tabindex="-1" id="profile-user">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header justify-content-between">
                                    <h4 class="modal-title" style="color: rgb(40,40,40);font-family: Nunito, sans-serif;font-weight: bold;font-size: 20px;"></h4><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" type="button" aria-label="Close" data-bs-dismiss="modal" style="font-size: 34px;color: rgb(78,115,223);box-shadow: 0px 6px 14px rgba(67,97,238,0.56);border-width: 2px;border-style: solid;border-radius: 16px;">
                                        <path d="M16.3394 9.32245C16.7434 8.94589 16.7657 8.31312 16.3891 7.90911C16.0126 7.50509 15.3798 7.48283 14.9758 7.85938L12.0497 10.5866L9.32245 7.66048C8.94589 7.25647 8.31312 7.23421 7.90911 7.61076C7.50509 7.98731 7.48283 8.62008 7.85938 9.0241L10.5866 11.9502L7.66048 14.6775C7.25647 15.054 7.23421 15.6868 7.61076 16.0908C7.98731 16.4948 8.62008 16.5171 9.0241 16.1405L11.9502 13.4133L14.6775 16.3394C15.054 16.7434 15.6868 16.7657 16.0908 16.3891C16.4948 16.0126 16.5171 15.3798 16.1405 14.9758L13.4133 12.0497L16.3394 9.32245Z" fill="currentColor"></path>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z" fill="currentColor"></path>
                                    </svg>
                                </div>
                                <div class="modal-body">
                                    <div class="d-flex" style="width: 100%;">
                                        <div style="width: 100%;"><span>Profile</span></div>
                                        <div style="width: 100%;"></div>
                                    </div>
                                    <div class="d-flex" style="width: 100%;">
                                        <div style="width: 100%;"><span>Nama</span></div>
                                        <div style="width: 100%;"><span class="username">unknown</span></div>
                                    </div>
                                    <div class="d-flex" style="width: 100%;">
                                        <div style="width: 100%;"><span>Email</span></div>
                                        <div style="width: 100%;"><span class="email">unknown</span></div>
                                    </div>
                                    <div class="d-flex" style="width: 100%;">
                                        <div style="width: 100%;"><span>Status</span></div>
                                        <div style="width: 100%;"><span class="status">unknown</span></div>
                                    </div>
                                </div>
                                <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="bg-white sticky-footer" style="margin-top: 33px;border-top: 8px solid rgb(78,115,223);width: 100%;">
                <div class="container">
                    <div class="row d-xxl-flex justify-content-xxl-center">
                        <div class="col-md-3 col-xxl-2 d-flex d-xxl-flex flex-column align-items-start" style="padding: 16px;">
                            <div class="fw-bold d-flex align-items-center" style="margin-bottom: 16px;"><img src="../../assets/img/SEO/icon-wallet.webp" style="width: 35px;margin-bottom: 0px;border-radius: 10px;margin-right: 10px;"><span style="font-family: Nunito, sans-serif;font-weight: bold;">Walletku.biz.id</span></div>
                            <p class="copyright" style="font-family: Nunito, sans-serif;font-size: 16px;color: var(--text-color);line-height: 22px;">Ahli dalam mengatur keuangan dan tokomu.</p>
                        </div>
                        <div class="col-md-3" style="padding: 16px;">
                            <ul class="list-group">
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 5px;padding-bottom: 5px;font-size: 16px;background: var(--primary-color);color: var(--card-color);border-radius: 6.6px 5.6px 0px -2px;border-bottom-right-radius: 16px;border-bottom-left-radius: 16px;border-top-right-radius: 16px;border-top-left-radius: 16px;margin-bottom: 16px;"><span style="font-family: Nunito, sans-serif;font-weight: bold;color: var(--card-color);font-size: 16px;">Layanan</span></li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;"><a href="index.html" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" rel="nofollow">Halaman utama<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                            <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                        </svg></a></li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;"><a href="login.html" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" rel="nofollow">Login<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                            <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                        </svg></a></li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;"><a href="register.html" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" rel="nofollow">Register<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                            <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                        </svg></a></li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;"><a href="reset.html" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" rel="nofollow">Reset password<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                            <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                        </svg></a></li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;"><a href="index.html#harga" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" rel="nofollow">Harga<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                            <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                        </svg></a></li>
                            </ul>
                        </div>
                        <div class="col-md-3" style="padding: 16px;">
                            <ul class="list-group">
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 5px;padding-bottom: 5px;font-size: 16px;background: var(--primary-color);color: var(--card-color);border-radius: 6.6px 5.6px 0px -2px;border-bottom-right-radius: 16px;border-bottom-left-radius: 16px;border-top-right-radius: 16px;border-top-left-radius: 16px;margin-bottom: 16px;"><span style="font-family: Nunito, sans-serif;font-weight: bold;color: var(--card-color);font-size: 16px;">Sponsore Utama</span></li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;"><a href="index.html#sponsor" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" rel="prev">Sponsor<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                            <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                        </svg></a></li>
                            </ul>
                        </div>
                        <div class="col-md-3" style="padding: 16px;">
                            <ul class="list-group">
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 5px;padding-bottom: 5px;font-size: 16px;background: var(--primary-color);color: var(--card-color);border-radius: 6.6px 5.6px 0px -2px;border-bottom-right-radius: 16px;border-bottom-left-radius: 16px;border-top-right-radius: 16px;border-top-left-radius: 16px;margin-bottom: 16px;"><span style="font-family: Nunito, sans-serif;font-weight: bold;color: var(--card-color);font-size: 16px;">Founder</span></li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;">
                                    <div style="margin-bottom: 10px;"><img style="height: 70px;width: 70px;margin-right: 16px;border-radius: 16px;" src="../../assets/img/bima.webp"><a href="https://www.threads.net/@bimboy.zxz?__pwa=1" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" target="_blank">Bimboy.zxz<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                                <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                            </svg></a></div>
                                    <p class="text-muted" style="font-family: Nunito, sans-serif;margin-bottom: 16px;font-size: 14px;">Web developer</p>
                                </li>
                                <li class="list-group-item" style="border-width: 0px;border-style: none;padding-top: 0px;padding-bottom: 5px;font-size: 16px;">
                                    <div style="margin-bottom: 10px;"><img style="height: 70px;width: 70px;margin-right: 16px;border-radius: 16px;" src="../../assets/img/gyku.webp"><a href="https://www.threads.net/@gyku__" style="color: var(--text-color);font-weight: bold;font-family: Nunito, sans-serif;" target="_blank">Gyku__<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-arrow-up-right-circle-fill" style="margin-left: 6px;">
                                                <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"></path>
                                            </svg></a></div>
                                    <p class="text-muted" style="font-family: Nunito, sans-serif;margin-bottom: 16px;font-size: 14px;">Support</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between align-items-center pt-3">
                        <p class="mb-0" style="font-family: Nunito, sans-serif;color: var(--text-color);font-weight: bold;">Copyright © 2025 WalletKu.biz.id</p>
                    </div>
                </div>
            </footer>
        </div><a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a>
    </div><style>
    /* Styling tambahan untuk elemen yang disable */
    .disabled-element {
      opacity: 0.6;
      pointer-events: none;
    }
    /* Styling untuk elemen premium2 */
    .premium2 {
      display: none;
    }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", function(){
      const userData = JSON.parse(localStorage.getItem("userData"));
      if(!userData){
        window.location.href = "../../data/admin/index.html";
        return;
      }
      
      // Tampilkan data pengguna
      document.querySelectorAll(".username").forEach(el => el.textContent = userData.nama);
      document.querySelectorAll(".email").forEach(el => el.textContent = userData.email);
      
      // Fungsi validasi premium berdasarkan tanggal
      function isPremiumActive() {
        if(userData.role === "premium"){
          // Pastikan format tanggal yang dikirim adalah YYYY-MM-DD atau ISO string
          const expiryDate = new Date(userData.date);
          const today = new Date(new Date().toDateString());
          return expiryDate >= today;
        }
        return false;
      }
      
      // Validasi status premium
      const premiumActive = isPremiumActive();
      document.querySelectorAll(".status").forEach(el => {
        // Jika role premium tetapi sudah expired, tampilkan sebagai "standart"
        el.textContent = (userData.role === "premium" && premiumActive) ? "premium" : "standart";
      });
      
      // Fungsi untuk menangani tampilan elemen premium
      function handlePremiumElements() {
        const isPremium = (userData.role === "premium" && premiumActive);
        
        // Tangani elemen dengan class premium
        document.querySelectorAll(".premium").forEach(el => {
          if(!isPremium){
            el.disabled = true;
            el.classList.add("disabled-element");
          } else {
            el.disabled = false;
            el.classList.remove("disabled-element");
          }
        });
        
        // Tangani elemen dengan class premium2 (tampilkan hanya untuk standar)
        document.querySelectorAll(".premium2").forEach(el => {
          if(isPremium){
            el.style.display = "none";
          } else {
            el.style.display = "block";
          }
        });
      }
      
      // Panggil fungsi untuk menangani elemen premium
      handlePremiumElements();
      
      // Jika status di Apps Script masih premium tetapi tanggal sudah lewat,
      // tampilkan modal notifikasi agar pengguna mengetahui bahwa masa akses premium telah berakhir.
      if(userData.role === "premium" && !premiumActive){
        $('#premiumExpiredModal').modal('show');
      }
    });
  </script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="../../assets/js/jquery.min.js"></script>
    <script src="../../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../assets/js/bs-init.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>