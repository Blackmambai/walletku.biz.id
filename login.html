<!DOCTYPE html>
<html data-bs-theme="light" lang="id">

<head>
    <meta charset="utf-8">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Login - Brand</title>
    <meta name="twitter:image" content="../../assets/img/SEO/og1@2x.png">
    <meta property="og:type" content="website">
    <meta name="twitter:title" content="WalletKu - Mulai atur keuangan mu | beta test">
    <meta name="twitter:description" content="Mulai mengelola pemasukan dan pengeluaran-mu dengan mudah.">
    <meta name="description" content="Mulai mengelola pemasukan dan pengeluaran-mu dengan mudah.">
    <meta property="og:image" content="../../assets/img/SEO/og1@2x.png">
    <link rel="icon" type="image/png" sizes="484x484" href="assets/img/SEO/icon-wallet.png">
    <link rel="icon" type="image/png" sizes="484x484" href="assets/img/SEO/icon-wallet.png" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" sizes="484x484" href="assets/img/SEO/icon-wallet.png">
    <link rel="icon" type="image/png" sizes="484x484" href="assets/img/SEO/icon-wallet.png" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" sizes="484x484" href="assets/img/SEO/icon-wallet.png">
    <link rel="icon" type="image/png" sizes="484x484" href="assets/img/SEO/icon-wallet.png">
    <link rel="icon" type="image/png" sizes="484x484" href="assets/img/SEO/icon-wallet.png">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/aos.min.css">
    <link rel="stylesheet" href="assets/css/animate.min.css">
    <link rel="stylesheet" href="assets/css/dashboard-app/style.css">
    <link rel="stylesheet" href="assets/css/dashboard-app/Pricing-Duo-badges.css">
    <link rel="stylesheet" href="assets/css/dashboard-app/Pricing-Duo-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body class="d-flex flex-column bg-gradient-primary" style="height: auto;background: var(--primary-color);">
    <div class="container d-flex justify-content-center align-items-center" style="height: 100vh;font-family: Nunito, sans-serif;">
        <div class="row flex-column flex-sm-column flex-md-column flex-lg-row flex-xl-row flex-xxl-row" style="/*gap: 16px;*/max-width: 600px;padding-right: 16px;padding-left: 16px;">
            <div class="col d-flex d-print-flex d-sm-flex d-md-flex d-lg-flex d-xl-flex d-xxl-flex" style="background: rgba(232,232,232,0.02);width: 100%;padding: 0px;"><img class="d-print-none d-lg-none d-xl-none d-xxl-none" data-aos="slide-up" data-aos-duration="650" data-aos-delay="400" src="assets/img/walletku2.png" style="/*object-fit: cover;*/width: 100%;border-radius: 16px;" loading="lazy"><img class="d-none d-print-flex d-sm-none d-md-none d-lg-flex d-xl-flex d-xxl-flex" src="assets/img/walletku1.webp" style="width: 100%;padding-right: 16px;"></div>
            <div class="col text-bg-primary d-flex flex-column justify-content-center" style="z-index: 5;padding: 0px;padding-right: 16px;padding-left: 16px;padding-top: 16px;padding-bottom: 16px;background: rgba(232,232,232,0.02);border-radius: 16px;width: 100%;border: 0px solid rgb(255,255,255);height: auto;">
                <div class="text-center text-sm-center text-md-center text-lg-center text-xl-center text-xxl-center" style="margin-bottom: 20px;"><span style="font-size: 24px;margin-bottom: 0px;transform: translate(-38px);display: inline;color: rgb(255,255,255);"><strong>Login</strong></span></div>
                <div class="text-start text-bg-success justify-content-start align-items-start pulse animated infinite alert-message" id="successLogin" style="width: 100%;height: auto;margin-bottom: 16px;padding: 10px;border-radius: 16px;">
                    <div class="d-flex"><i class="far fa-check-circle text-dark" style="margin-top: 5px;margin-right: 5px;"></i>
                        <div><span class="text-dark">Berhasil, anda di arahkan halaman dashboard</span></div>
                    </div>
                </div>
                <div class="text-start text-bg-danger justify-content-start align-items-start pulse animated infinite alert-message" id="errorLogin" style="width: 100%;height: auto;margin-bottom: 16px;padding: 10px;border-radius: 16px;">
                    <div class="d-flex"><i class="far fa-times-circle text-white" style="margin-top: 5px;margin-right: 5px;"></i>
                        <div><span class="text-white">Gagal, Email dan password salah</span></div>
                    </div>
                </div>
                <div class="text-start text-bg-danger justify-content-start align-items-start pulse animated infinite alert-message" id="errorServer" style="width: 100%;height: auto;margin-bottom: 16px;padding: 10px;border-radius: 16px;">
                    <div class="d-flex"><i class="far fa-times-circle text-white" style="margin-top: 5px;margin-right: 5px;"></i>
                        <div><span class="text-white">Gagal menghubungi server, coba lagi nanti</span></div>
                    </div>
                </div>
                <form onsubmit="login(event)" style="width: 100%;max-width: 600px;">
                    <div class="mb-3"><input class="form-control form-control-user" type="email" id="email" aria-describedby="emailHelp" placeholder="Masukan Email" name="email" style="font-size: 16px;border-radius: 16px;border-width: 2px;border-style: solid;box-shadow: 0px 6px 20px rgba(42,58,136,0.49);" required=""></div>
                    <div class="mb-3"><input class="form-control form-control-user" type="password" id="password" placeholder="password" name="password" style="font-size: 16px;border-radius: 16px;border-width: 2px;border-style: solid;box-shadow: 0px 6px 20px rgba(42,58,136,0.49);" required=""></div>
                    <div class="mb-3">
                        <div class="custom-checkbox small">
                            <div class="form-check" style="font-size: 16px;"><input class="form-check-input" type="checkbox" id="formCheck-1"><label class="form-check-label" for="formCheck-1" style="color: rgb(255,255,255);">Ingat saya</label></div>
                        </div>
                    </div><button class="btn btn-primary d-block btn-user w-100" type="submit" style="font-size: 16px;border-radius: 16px;border-width: 2px;border-style: solid;box-shadow: 0px 6px 20px rgba(42,58,136,0.49);">Masuk</button>
                    <hr><style>
    body {
      background-color: #f8f9fa;
    }
    .login-container {
      max-width: 400px;
      margin: 100px auto;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      background-color: white;
    }
    .form-title {
      text-align: center;
      margin-bottom: 25px;
      color: #0d6efd;
    }
    .btn-login {
      width: 100%;
      padding: 10px;
    }
    .links {
      text-align: center;
      margin-top: 20px;
    }
    .alert-message {
      display: none;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 4px;
      text-align: center;
    }
    .alert-error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .alert-success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
  </style>

<script>
    // Ganti dengan URL web app Apps Script kamu
    const scriptUrl = "https://script.google.com/macros/s/AKfycbxHFQRQDCGCsLPWH_Bm9soZd85OR1BROMOB4r4kEwk39Zb4QdE-IHLnAmv3qffVsBNM/exec";

    function login(event){
      event.preventDefault();
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      
      // Sembunyikan semua pesan sebelumnya
      document.querySelectorAll('.alert-message').forEach(el => {
        el.style.display = 'none';
      });
      
      // Show loading state
      const submitBtn = event.target.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Memproses...';
      
      fetch(scriptUrl + "?action=loginUser&email=" + encodeURIComponent(email) + "&password=" + encodeURIComponent(password))
      .then(response => response.json())
      .then(data => {
          if(data.status === "success"){
             // Simpan data pengguna di localStorage untuk validasi halaman dashboard
             localStorage.setItem("userData", JSON.stringify(data));
             
             // Tampilkan pesan sukses
             document.getElementById('successLogin').style.display = 'block';
             
             // Redirect setelah 2 detik
             setTimeout(() => {
               window.location.href = "dashboard/index.html";
             }, 2000);
          } else {
             // Tampilkan pesan error login
             document.getElementById('errorLogin').style.display = 'block';
             submitBtn.disabled = false;
             submitBtn.textContent = 'Login';
          }
      })
      .catch(err => {
        console.error(err);
        // Tampilkan pesan error server
        document.getElementById('errorServer').style.display = 'block';
        submitBtn.disabled = false;
        submitBtn.textContent = 'Login';
      });
    }
  </script>
                </form>
                <div class="text-center" style="color: rgb(255,255,255);margin-bottom: 8px;"><span>Lupa password?&nbsp;<a class="small" href="reset.html" style="font-size: 16px;color: rgb(255,255,255);margin-bottom: 0px;padding-bottom: 0px;">Reset password</a></span></div>
                <div class="text-center" style="color: rgb(255,255,255);margin-bottom: 8px;"><span>Belum punya akun?&nbsp;<a class="small" href="register.html" style="font-size: 16px;color: rgb(255,255,255);margin-bottom: 0px;padding-bottom: 0px;">Daftar</a></span></div>
            </div>
        </div>
    </div>
    <footer class="bg-white sticky-footer" style="margin-top: 33px;border-top: 8px solid rgb(78,115,223);width: 100%;">
        <div class="container my-auto">
            <div class="my-auto copyright"><span><strong>Development </strong>by <a href="https://www.threads.net/@bimboy.zxz">Bimboy.zxz</a>&nbsp;&amp; <a href="https://www.threads.net/@gyku__">Gyku__</a>&nbsp;</span></div>
        </div>
    </footer>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/aos.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
</body>

</html>